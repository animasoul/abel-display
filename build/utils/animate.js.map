{"version":3,"file":"utils/animate.js","mappings":"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","sources":["webpack://abel-display/./src/utils/animate.js"],"sourcesContent":["// Function to generate a unique random number in a range\r\n// Returns a random value between min and max, excluding prev\r\nconst uniqueRand = ( min, max, prev ) => {\r\n\tlet next = prev;\r\n\twhile ( prev === next )\r\n\t\tnext = Math.floor( Math.random() * ( max - min + 1 ) + min );\r\n\treturn next;\r\n};\r\n\r\n// All possible combinations of configuration and roundness\r\nconst combinations = [\r\n\t{ configuration: 1, roundness: 1 },\r\n\t{ configuration: 1, roundness: 2 },\r\n\t{ configuration: 1, roundness: 4 },\r\n\t{ configuration: 2, roundness: 2 },\r\n\t{ configuration: 2, roundness: 3 },\r\n\t{ configuration: 3, roundness: 3 },\r\n];\r\n\r\n// Previous value of the random number\r\nlet prev = 0;\r\n\r\n// Id of the interval\r\nlet intervalId;\r\n\r\n// Function to start the animation\r\nconst startAnimation = ( wrappers ) => {\r\n\tif ( intervalId !== undefined ) return;\r\n\tintervalId = setInterval( () => {\r\n\t\twrappers.forEach( ( wrapper ) => {\r\n\t\t\t// Get a random number between 0 and the number of combinations\r\n\t\t\tconst index = uniqueRand( 0, combinations.length - 1, prev ),\r\n\t\t\t\t// Destructure the combination object\r\n\t\t\t\t{ configuration, roundness } = combinations[ index ];\r\n\r\n\t\t\twrapper.dataset.configuration = configuration;\r\n\t\t\twrapper.dataset.roundness = roundness;\r\n\r\n\t\t\tprev = index;\r\n\r\n\t\t\t// Add mouseover and mouseout event listeners\r\n\t\t\twrapper.addEventListener( 'mouseover', () => {\r\n\t\t\t\tclearInterval( intervalId );\r\n\t\t\t\tintervalId = undefined;\r\n\t\t\t} );\r\n\r\n\t\t\twrapper.addEventListener( 'mouseout', () => {\r\n\t\t\t\tstartAnimation( [ wrapper ] );\r\n\t\t\t} );\r\n\t\t} );\r\n\t}, 3000 );\r\n};\r\n\r\n// Define a function to start the animation on your wrappers\r\nfunction startAnimationOnWrappers( wrappers ) {\r\n\tstartAnimation( wrappers );\r\n}\r\n\r\n// Create a new MutationObserver instance\r\nconst observer = new MutationObserver( ( mutationsList ) => {\r\n\t// Loop over the list of mutations\r\n\tfor ( const mutation of mutationsList ) {\r\n\t\t// If nodes were added\r\n\t\tif ( mutation.addedNodes.length ) {\r\n\t\t\t// Get the newly added wrappers and shapes\r\n\t\t\tconst newWrappers = document.querySelectorAll( '.abel-wrapper' ),\r\n\t\t\t\tshapes = document.querySelectorAll( '.shape' );\r\n\r\n\t\t\t// Start animation on wrappers\r\n\t\t\tnewWrappers.forEach( () => {\r\n\t\t\t\tstartAnimationOnWrappers( newWrappers );\r\n\t\t\t} );\r\n\r\n\t\t\t// Attach events to shapes\r\n\t\t\tshapes.forEach( ( shape ) => {\r\n\t\t\t\t// If events have not already been attached\r\n\t\t\t\tif ( ! shape.dataset.eventAttached ) {\r\n\t\t\t\t\t// Attach events\r\n\t\t\t\t\tconst dialog = shape.querySelector( 'dialog' );\r\n\r\n\t\t\t\t\tshape.addEventListener( 'click', () => {\r\n\t\t\t\t\t\tif ( dialog.open ) dialog.close();\r\n\t\t\t\t\t\telse dialog.showModal();\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tconst closeButton = dialog.querySelector( '.close-button' );\r\n\t\t\t\t\tcloseButton.addEventListener( 'click', ( event ) => {\r\n\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t// Remember that events have been attached\r\n\t\t\t\t\tshape.dataset.eventAttached = true;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n} );\r\n\r\ndocument.addEventListener( 'DOMContentLoaded', () => {\r\n\tobserver.observe( document.body, { childList: true, subtree: true } );\r\n} );\r\n"],"names":["uniqueRand","min","max","prev","next","Math","floor","random","combinations","configuration","roundness","intervalId","startAnimation","wrappers","undefined","setInterval","forEach","wrapper","index","length","dataset","addEventListener","clearInterval","startAnimationOnWrappers","observer","MutationObserver","mutationsList","mutation","addedNodes","newWrappers","document","querySelectorAll","shapes","shape","eventAttached","dialog","querySelector","open","close","showModal","closeButton","event","stopPropagation","observe","body","childList","subtree"],"sourceRoot":""}